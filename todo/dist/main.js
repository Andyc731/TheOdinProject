(()=>{"use strict";function t(t){return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()}function e(t){document.querySelectorAll(".tab").forEach((t=>{t!==this&&t.classList.remove("active")})),t.classList.add("active")}function n(t){document.querySelectorAll(".todo").forEach((e=>{e.classList.contains(t)?e.style.display="block":e.style.display="none"}))}function o(){document.querySelectorAll(".tag").forEach((t=>{t.addEventListener("click",(()=>{!function(t){document.querySelectorAll(".tag").forEach((t=>{t!==this&&t.classList.remove("active")})),t.classList.add("active")}(t)}))}))}document.querySelector(".content").appendChild(function(){const e=document.createElement("div");return e.classList.add("addTodo"),e.textContent="+ Add Todo",function(e,n){const o=document.getElementById("addTodoDialog");e.addEventListener("click",(()=>{o.showModal()})),o.addEventListener("click",(t=>{const e=o.getBoundingClientRect();(t.clientX<e.left||t.clientX>e.right||t.clientY<e.top||t.clientY>e.bottom)&&o.close()})),document.querySelector(".addTodoButton").addEventListener("click",(()=>{const e=document.getElementById("title").value,n=document.getElementById("description").value,o=document.getElementById("dueDate").value,c=document.getElementById("priority").value;if(""===e||""===o)return;const d=function(t,e,n,o,c=[]){return{title:t,description:e,dueDate:n,priority:o,tags:c}}(e,n,o,c);!function(e){const n=document.querySelector(".content"),o=document.createElement("div");o.classList.add("todo"),function(e){const n=new Date,o=new Date(n);o.setDate(o.getDate()+7);const c=new Date(n);c.setDate(c.getDate()+30);const d=[];if(!(e<t(n)))return e===t(n)&&d.push("today"),e<t(o)&&d.push("week"),e<t(c)&&d.push("month"),d}(e.dueDate).forEach((t=>{o.classList.add(t)})),o.textContent=e.title,n.insertBefore(o,n.lastChild)}(d),document.getElementById("addTodoDialog").close(),document.getElementById("todoForm").reset()}))}(e),e}()),function(){const t=document.querySelector(".tab.home"),o=document.querySelector(".tab.today"),c=document.querySelector(".tab.week"),d=document.querySelector(".tab.month");t.addEventListener("click",(()=>{t.classList.contains("active")||(e(t),n("todo"))})),o.addEventListener("click",(()=>{o.classList.contains("active")||(e(o),n("today"))})),c.addEventListener("click",(()=>{c.classList.contains("active")||(e(c),n("week"))})),d.addEventListener("click",(()=>{d.classList.contains("active")||(e(d),n("month"))}))}(),o(),function(t,e){const n=document.getElementById(e);t.addEventListener("click",(()=>{n.showModal()})),n.addEventListener("click",(t=>{const e=n.getBoundingClientRect();(t.clientX<e.left||t.clientX>e.right||t.clientY<e.top||t.clientY>e.bottom)&&n.close()})),function(){const t=document.querySelector(".sidebar"),e=document.querySelector(".addTag");document.querySelector(".addTagButton").addEventListener("click",(()=>{const n=document.getElementById("tag-name").value;t.insertBefore(function(t){const e=document.createElement("div");return e.textContent=t,e.classList.add(t,"tag"),function(t){const e=document.getElementById("todoForm"),n=document.createElement("label"),o=document.createElement("input"),c=document.querySelector(".addTodoButton");n.setAttribute("for",t),n.textContent=t,o.setAttribute("type","checkbox"),o.setAttribute("id",t),o.setAttribute("value",t),e.insertBefore(o,c),e.insertBefore(n,c)}(t),e}(n),e),o(),document.getElementById("addTagDialog").close(),document.getElementById("tagForm").reset()}))}()}(document.querySelector(".addTag"),"addTagDialog")})();