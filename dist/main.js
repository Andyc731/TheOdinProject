(()=>{"use strict";function a(a){return{length:a,beenHit:0,hit:function(){this.beenHit++},isSunk:function(){return this.beenHit>=this.length}}}function r(a="computer"){return{player:a,playerBoard:{board:[...Array(10)].map((a=>Array(10).fill(null))),playedBoard:[...Array(10)].map((a=>Array(10).fill(null))),shipsAlive:0,placeShip:function(a,r,e,t){if("horizontal"===e)for(let e=0;e<t.length;e++)this.board[r][a+e]=t;else for(let e=0;e<t.length;e++)this.board[r+e][a]=t;this.shipsAlive++},receiveAttack:function(a,r){if(this.playedBoard[r][a])return;const e=this.board[r][a];e?(e.hit(),e.isSunk()&&this.shipsAlive--):this.board[r][a]=0,this.playedBoard[r][a]=1},allShipsSunk:function(){return!this.shipsAlive},playAvailable:function(){for(let a=0;a<10;a++)for(let r=0;r<10;r++)if(!this.playedBoard[a][r])return!0;return!1},canPlace:function(a,r,e,t){if(console.log(a,r,e,t),"horizontal"===e){if(a+t.length>9)return!1;for(let e=0;e<t.length;e++)if(this.board[r][a+e])return!1}else{if(r+t.length>9)return!1;for(let e=0;e<t.length;e++)if(this.board[r+e][a])return!1}return!0},randomPlace:function(a){let r,e;const t=Math.floor(2*Math.random())?"horizontal":"vertical";do{r=Math.floor(10*Math.random()),e=Math.floor(10*Math.random())}while(!this.canPlace(r,e,t,a));this.placeShip(r,e,t,a)}},attack:function(a,r,e){a.receiveAttack(r,e)},randomCoord:function(a){if(!a.playAvailable())return;let r,e;do{r=Math.floor(10*Math.random()),e=Math.floor(10*Math.random())}while(a.playedBoard[e][r]);return{x:r,y:e}}}}!function(){const e=r("1"),t=r("computer");e.playerBoard.randomPlace(a(5)),e.playerBoard.randomPlace(a(4)),e.playerBoard.randomPlace(a(3)),e.playerBoard.randomPlace(a(3)),e.playerBoard.randomPlace(a(2)),t.playerBoard.randomPlace(a(5)),t.playerBoard.randomPlace(a(4)),t.playerBoard.randomPlace(a(3)),t.playerBoard.randomPlace(a(3)),t.playerBoard.randomPlace(a(2));const o=document.querySelector(".container.player");e.playerBoard.board.forEach((a=>{a.forEach((a=>{const r=document.createElement("div");a&&r.classList.add("ship"),r.classList.add("cell"),o.appendChild(r)}))}));const l=document.querySelector(".container.computer");t.playerBoard.board.forEach((a=>{a.forEach((a=>{const r=document.createElement("div");a&&r.classList.add("ship"),r.classList.add("cell"),l.appendChild(r)}))}))}()})();